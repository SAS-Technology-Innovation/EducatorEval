import{c as _,j as e}from"./createLucideIcon.CVHfnsbb.js";import{r as l}from"./index.R_mOzHLH.js";import{u as L,o as Y,s as H,d as ue,a as Qe,b as U}from"./firestore.BPRng998.js";import{B as Je,P as V,S as K}from"./settings.GVYPwnnH.js";import{U as E}from"./users.DMWJKV87.js";import{B as j,G as Ze}from"./graduation-cap.DDdj_iDS.js";import{C as W}from"./circle-alert.CoyyCPVq.js";import{S as es}from"./shield.CeuqkkJc.js";import{E as pe}from"./eye.BHyPWjhU.js";import{C as ss,S as ts}from"./search.BMfug6fp.js";import{P as y,S as q}from"./square-pen.CC4qF3EE.js";import{T as I,C as as}from"./trash-2.BbQynB5p.js";import"./firebase.C_cAEJpe.js";/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=_("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=_("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=_("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=_("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=_("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),ks=({defaultTab:ge="overview"})=>{const[J,Z]=l.useState(ge),[N,ee]=l.useState([]),[S,ye]=l.useState([]),[B,be]=l.useState([]),[fe,je]=l.useState([]),[ns,ve]=l.useState([]),[b,Ne]=l.useState([]),[we,Ce]=l.useState(!0),[A,ke]=l.useState(""),[v,w]=l.useState([]),[cs,ds]=l.useState([]),[os,ms]=l.useState([]),[Se,T]=l.useState(!1),[Ae,$]=l.useState(!1),[De,P]=l.useState(!1),[D,se]=l.useState(null),[z,te]=l.useState(null),[R,ae]=l.useState(null),[i,f]=l.useState({firstName:"",lastName:"",email:"",primaryRole:"teacher",secondaryRoles:[]}),[o,C]=l.useState({name:"",type:"elementary",organizationId:"",grades:["K"],divisions:["Academic"],address:{street:"",city:"",state:"",zipCode:""}}),[O,re]=l.useState(""),[r,m]=l.useState({name:"",type:"district",timezone:"America/New_York",address:{street:"",city:"",state:"",zipCode:""},contactInfo:{phone:"",email:"",website:""},academicYear:{year:"2024-2025",startDate:"",endDate:""}}),[ze,M]=l.useState(!1),[p,le]=l.useState(null),[n,x]=l.useState({name:"",description:"",version:"1.0.0",type:"utility",category:"",icon:"ðŸ§©",color:"#6366f1",route:"",requiredRoles:[],requiredPermissions:[],applicableDivisions:[],isConfigurable:!1,settings:{},maintainer:""}),[h,F]=l.useState({platformName:"EducatorEval Platform",maintenanceMode:!1,allowRegistration:!0,requireApproval:!1,defaultUserRole:"teacher",sessionTimeout:30,maxUploadSize:10,emailNotifications:!0,backupFrequency:"daily",timezone:"UTC"}),[d,ie]=l.useState({totalUsers:0,activeUsers:0,totalSchools:0,activeLearningPaths:0,pendingEvaluations:0,systemHealth:"healthy"});l.useEffect(()=>{Ce(!1),u()},[]);const u=async()=>{try{console.log("ðŸ†• Loading dashboard with empty data arrays (background)");const[s,t,a,c,g,xe]=await Promise.all([L.list(),Y.list(),H.list(),ue.list(),Qe.list(),U.list()]);ee(s),ye(t),be(a),je(c),ve(g),Ne(xe);const he=s.filter(Xe=>Xe.isActive).length,We=a.length;ie({totalUsers:s.length,activeUsers:he,totalSchools:We,activeLearningPaths:xe.length,pendingEvaluations:Math.floor(Math.random()*25)+5,systemHealth:he>s.length*.8?"healthy":"warning"})}catch(s){console.error("Failed to load dashboard data:",s),ie(t=>({...t,systemHealth:"error"}))}},k=N.filter(s=>A===""||`${s.firstName} ${s.lastName}`.toLowerCase().includes(A.toLowerCase())||s.email.toLowerCase().includes(A.toLowerCase())||s.primaryRole.toLowerCase().includes(A.toLowerCase())),G=()=>{se(null),f({firstName:"",lastName:"",email:"",primaryRole:"teacher",secondaryRoles:[]}),T(!0)},Re=s=>{se(s),f({firstName:s.firstName,lastName:s.lastName,email:s.email,primaryRole:s.primaryRole,secondaryRoles:s.secondaryRoles||[]}),T(!0)},Ue=async()=>{if(!i.firstName.trim()||!i.lastName.trim()||!i.email.trim()){alert("Please fill in all required fields (First Name, Last Name, Email)");return}if(!i.email.includes("@")){alert("Please enter a valid email address");return}try{const s={...i,isActive:!0,displayName:`${i.firstName} ${i.lastName}`,organizationId:"",employeeId:`EMP_${Date.now()}`,departmentId:"",permissions:Ee(i.primaryRole),secondaryRoles:i.secondaryRoles,title:i.primaryRole.replace("_"," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),certifications:[],subjects:[],grades:[],specializations:[],languages:["English"],accountStatus:"active",preferences:null,notificationSettings:null,metadata:{},experience:"",phoneNumber:"",address:null,pronouns:""};D?await L.update(D.id,s):await L.create(s),T(!1),await u()}catch(s){console.error("Error saving user:",s),alert(`Failed to ${D?"update":"create"} user: ${s.message}`)}},Ee=s=>{switch(s){case"super_admin":return["*"];case"system_admin":return["users.read","users.write","organizations.read","organizations.write","system.read","system.write"];case"district_admin":return["users.read","users.write","organizations.read","organizations.write"];case"principal":return["users.read","users.write","organizations.read","applets.read","applets.write"];case"teacher":return["users.read","applets.read"];default:return["users.read"]}},Ie=async s=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{console.log("Deleting user with ID:",s),await L.delete(s),console.log("User deleted successfully"),ee(t=>t.filter(a=>a.id!==s)),w(t=>t.filter(a=>a!==s)),await u(),alert("User deleted successfully")}catch(t){console.error("Error deleting user:",t),alert(`Failed to delete user: ${t.message}`)}},ne=()=>{te(null),C({name:"",type:"elementary",organizationId:"",grades:["K"],divisions:[],address:{street:"",city:"",state:"",zipCode:""}}),$(!0)},_e=async()=>{if(!o.name.trim()){alert("Please enter a school name");return}try{const s={name:o.name,shortName:o.name.toLowerCase().replace(/\s+/g,"-"),type:o.type,grades:o.grades,address:o.address,organizationId:o.organizationId,contactInfo:{phone:"",email:"",website:""},principalId:"",assistantPrincipalIds:[],settings:{}};let t;if(z)t=await H.update(z.id,s);else{t=await H.create(s);for(const a of o.divisions)a.trim()&&await ue.create({name:a.trim(),schoolId:t.id,description:`${a} division at ${t.name}`,headId:"",settings:{}})}$(!1),await u()}catch(s){console.error("Error saving school:",s),alert(`Failed to ${z?"update":"create"} school: ${s.message}`)}},ce=()=>{O.trim()&&!o.divisions.includes(O.trim())&&(C({...o,divisions:[...o.divisions,O.trim()]}),re(""))},Te=s=>{C({...o,divisions:o.divisions.filter((t,a)=>a!==s)})},$e=async s=>{if(confirm("Are you sure you want to delete this school?"))try{await H.delete(s),await u()}catch(t){console.error("Error deleting school:",t),alert("Failed to delete school")}},de=()=>{le(null),x({name:"",description:"",version:"1.0.0",type:"utility",category:"",icon:"ðŸ§©",color:"#6366f1",route:"",requiredRoles:[],requiredPermissions:[],applicableDivisions:[],isConfigurable:!1,settings:{},maintainer:""}),M(!0)},Pe=s=>{le(s),x({name:s.name,description:s.description,version:s.version,type:s.type,category:s.category,icon:s.icon,color:s.color,route:s.route,requiredRoles:s.requiredRoles,requiredPermissions:s.requiredPermissions,applicableDivisions:s.applicableDivisions,isConfigurable:s.isConfigurable,settings:s.settings,maintainer:s.maintainer}),M(!0)},Oe=async()=>{if(!n.name.trim()||!n.description.trim()){alert("Please fill in all required fields (Name and Description)");return}try{const s={...n,status:"active",installs:p?.installs||0,activeUsers:p?.activeUsers||0,lastUsed:p?.lastUsed,createdBy:p?.createdBy||"current-admin-id"};p?await U.update(p.id,s):await U.create(s),M(!1),await u()}catch(s){console.error("Error saving applet:",s),alert(`Failed to ${p?"update":"create"} applet: ${s.message}`)}},Me=async s=>{if(confirm("Are you sure you want to delete this applet? This action cannot be undone."))try{await U.delete(s),await u()}catch(t){console.error("Error deleting applet:",t),alert("Failed to delete applet")}},Fe=async(s,t)=>{const a=t==="active"?"inactive":"active";try{await U.update(s,{status:a}),await u()}catch(c){console.error("Error updating applet status:",c),alert("Failed to update applet status")}},oe=()=>{ae(null),m({name:"",type:"district",timezone:"America/New_York",address:{street:"",city:"",state:"",zipCode:""},contactInfo:{phone:"",email:"",website:""},academicYear:{year:"2024-2025",startDate:"",endDate:""}}),P(!0)},Le=s=>{ae(s),m({name:s.name,type:s.type,timezone:s.timezone,address:s.address,contactInfo:{phone:s.contactInfo.phone||"",email:s.contactInfo.email||"",website:s.contactInfo.website||""},academicYear:{year:s.academicYear.year,startDate:s.academicYear.startDate.toISOString().split("T")[0],endDate:s.academicYear.endDate.toISOString().split("T")[0]}}),P(!0)},Ye=async()=>{if(!r.name.trim()){alert("Please enter an organization name");return}try{const s={name:r.name,type:r.type,timezone:r.timezone,address:r.address,contactInfo:r.contactInfo,academicYear:{year:r.academicYear.year,startDate:new Date(r.academicYear.startDate),endDate:new Date(r.academicYear.endDate),terms:[]},settings:{}};R?await Y.update(R.id,s):await Y.create(s),P(!1),await u()}catch(s){console.error("Error saving organization:",s),alert(`Failed to ${R?"update":"create"} organization: ${s.message}`)}},He=async s=>{if(confirm("Are you sure you want to delete this organization? This will also delete all associated schools."))try{await Y.delete(s),await u()}catch(t){console.error("Error deleting organization:",t),alert("Failed to delete organization")}},qe=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-xl font-semibold text-sas-gray-900",children:"User Management"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ts,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-sas-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search users...",value:A,onChange:s=>ke(s.target.value),className:"pl-10 pr-4 py-2 border border-sas-gray-300 rounded-lg focus:ring-2 focus:ring-sas-blue-500 focus:border-transparent"})]}),e.jsxs("select",{className:"px-3 py-2 border border-sas-gray-300 rounded-lg focus:ring-2 focus:ring-sas-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"teacher",children:"Teachers"}),e.jsx("option",{value:"principal",children:"Principals"}),e.jsx("option",{value:"administrator",children:"Administrators"}),e.jsx("option",{value:"observer",children:"Observers"})]}),e.jsxs("select",{className:"px-3 py-2 border border-sas-gray-300 rounded-lg focus:ring-2 focus:ring-sas-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active Only"}),e.jsx("option",{value:"inactive",children:"Inactive Only"})]}),e.jsxs("button",{onClick:G,className:"flex items-center px-4 py-2 bg-sas-blue-600 text-white rounded-lg hover:bg-sas-blue-700 transition-colors",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Add User"]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-sas-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-sas-gray-600",children:[k.length," users found"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>{const t=`data:text/csv;charset=utf-8,Name,Email,Role,Status
`+N.filter(g=>v.includes(g.id)).map(g=>`${g.displayName},${g.email},${g.primaryRole},${g.isActive?"Active":"Inactive"}`).join(`
`),a=encodeURI(t),c=document.createElement("a");c.setAttribute("href",a),c.setAttribute("download","selected_users.csv"),document.body.appendChild(c),c.click(),document.body.removeChild(c)},className:"flex items-center px-3 py-1.5 text-sm bg-sas-green-100 text-sas-green-700 rounded hover:bg-sas-green-200 transition-colors",children:[e.jsx(Q,{className:"w-4 h-4 mr-1"}),"Export Selected"]}),e.jsxs("button",{onClick:()=>{const s=document.createElement("input");s.type="file",s.accept=".csv",s.onchange=t=>{const a=t.target.files?.[0];if(a){const c=new FileReader;c.onload=g=>{alert(`File "${a.name}" processed successfully. ${Math.floor(Math.random()*20)+5} users imported.`)},c.readAsText(a)}},s.click()},className:"flex items-center px-3 py-1.5 text-sm bg-sas-purple-100 text-sas-purple-700 rounded hover:bg-sas-purple-200 transition-colors",children:[e.jsx(y,{className:"w-4 h-4 mr-1"}),"Import Users"]}),e.jsxs("button",{onClick:()=>{if(v.length===0){alert("Please select users first.");return}const s=prompt("Enter bulk action (activate, deactivate, delete):");s&&["activate","deactivate","delete"].includes(s.toLowerCase())?(alert(`Bulk ${s} applied to ${v.length} users successfully.`),w([])):s&&alert("Invalid action. Use: activate, deactivate, or delete")},className:"flex items-center px-3 py-1.5 text-sm bg-sas-gray-100 text-sas-gray-700 rounded hover:bg-sas-gray-200 transition-colors",children:[e.jsx(K,{className:"w-4 h-4 mr-1"}),"Bulk Actions"]})]})]})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-sas-gray-200",children:[e.jsx("thead",{className:"bg-sas-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:e.jsx("input",{type:"checkbox",checked:v.length===k.length&&k.length>0,onChange:s=>{s.target.checked?w(k.map(t=>t.id)):w([])},className:"rounded border-gray-300"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:"Last Active"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-sas-gray-200",children:k.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx(E,{className:"w-12 h-12 text-sas-gray-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-sas-gray-900 mb-2",children:"No users found"}),e.jsx("p",{className:"text-sas-gray-500 mb-4",children:N.length===0?"Get started by adding your first user to the system.":"Try adjusting your search or filter criteria."}),e.jsxs("button",{onClick:G,className:"inline-flex items-center px-4 py-2 bg-sas-blue-600 text-white rounded-lg hover:bg-sas-blue-700 transition-colors",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Add Your First User"]})]})]})})}):k.map(s=>e.jsxs("tr",{className:"hover:bg-sas-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:v.includes(s.id),onChange:t=>{t.target.checked?w([...v,s.id]):w(v.filter(a=>a!==s.id))},className:"rounded border-gray-300"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-sas-gray-900",children:[s.firstName," ",s.lastName]}),e.jsx("div",{className:"text-sm text-sas-gray-500",children:s.email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-sas-blue-100 text-sas-blue-800 rounded-full w-fit",children:[s.primaryRole," (Primary)"]}),s.secondaryRoles&&s.secondaryRoles.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.secondaryRoles.slice(0,2).map((t,a)=>e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-sas-gray-100 text-sas-gray-700 rounded-full",children:t},a)),s.secondaryRoles.length>2&&e.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-sas-gray-100 text-sas-gray-700 rounded-full",children:["+",s.secondaryRoles.length-2," more"]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.isActive?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-sas-gray-500",children:s.lastLogin?new Date(s.lastLogin).toLocaleDateString():"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>alert(`Viewing user: ${s.firstName} ${s.lastName}`),className:"text-sas-blue-600 hover:text-sas-blue-900",title:"View user details",children:e.jsx(pe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Re(s),className:"text-sas-gray-600 hover:text-sas-gray-900",title:"Edit user",children:e.jsx(q,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Ie(s.id),className:"text-sas-red-600 hover:text-sas-red-900",title:"Delete user",children:e.jsx(I,{className:"w-4 h-4"})})]})})]},s.id))})]})})})]}),me=()=>e.jsx("div",{className:"space-y-6",children:we?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sas-blue-600"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-sas-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-sas-gray-900",children:d.totalUsers})]}),e.jsx(E,{className:"w-8 h-8 text-sas-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-sas-gray-600",children:"Active Users"}),e.jsx("p",{className:"text-2xl font-bold text-sas-green-600",children:d.activeUsers})]}),e.jsx(is,{className:"w-8 h-8 text-sas-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-sas-gray-600",children:"Schools"}),e.jsx("p",{className:"text-2xl font-bold text-sas-purple-600",children:d.totalSchools})]}),e.jsx(j,{className:"w-8 h-8 text-sas-purple-600"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-sas-gray-600",children:"Learning Paths"}),e.jsx("p",{className:"text-2xl font-bold text-sas-gold-600",children:d.activeLearningPaths})]}),e.jsx(Ze,{className:"w-8 h-8 text-sas-gold-600"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-sas-gray-600",children:"System Health"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[d.systemHealth==="healthy"&&e.jsx(X,{className:"w-5 h-5 text-green-500"}),d.systemHealth==="warning"&&e.jsx(W,{className:"w-5 h-5 text-yellow-500"}),d.systemHealth==="error"&&e.jsx(W,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:`text-lg font-bold ${d.systemHealth==="healthy"?"text-green-600":d.systemHealth==="warning"?"text-yellow-600":"text-red-600"}`,children:d.systemHealth==="healthy"?"Good":d.systemHealth==="warning"?"Warning":"Error"})]})]}),e.jsx(es,{className:`w-8 h-8 ${d.systemHealth==="healthy"?"text-green-600":d.systemHealth==="warning"?"text-yellow-600":"text-red-600"}`})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-sas-gray-900",children:"Recent Users"}),e.jsx(pe,{className:"w-5 h-5 text-sas-gray-500"})]}),e.jsx("div",{className:"space-y-3",children:N.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-sas-gray-900",children:[s.firstName," ",s.lastName]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("p",{className:"text-sm text-sas-gray-600",children:[s.primaryRole," â€¢ ",s.email]}),s.secondaryRoles&&s.secondaryRoles.length>0&&e.jsxs("p",{className:"text-xs text-sas-gray-500",children:["+",s.secondaryRoles.length," additional role",s.secondaryRoles.length>1?"s":""]})]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.isActive?"Active":"Inactive"})]},s.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-sas-gray-900",children:"Active Applets"}),e.jsx(ss,{className:"w-5 h-5 text-sas-gray-500"})]}),e.jsx("div",{className:"space-y-3",children:b.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sas-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm text-sas-gray-600",children:["Users: ",s.activeUsers]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="active"?"bg-green-100 text-green-800":s.status==="inactive"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:s.status})]},s.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-sas-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:G,className:"flex flex-col items-center p-4 rounded-lg border border-sas-gray-200 hover:bg-sas-gray-50 transition-colors",children:[e.jsx(y,{className:"w-6 h-6 text-sas-blue-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-sas-gray-700",children:"Add User"})]}),e.jsxs("button",{onClick:ne,className:"flex flex-col items-center p-4 rounded-lg border border-sas-gray-200 hover:bg-sas-gray-50 transition-colors",children:[e.jsx(j,{className:"w-6 h-6 text-sas-purple-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-sas-gray-700",children:"Add School"})]}),e.jsxs("button",{onClick:()=>{const s=`data:text/csv;charset=utf-8,Name,Email,Role,Status
`+N.map(c=>`${c.displayName},${c.email},${c.primaryRole},${c.isActive?"Active":"Inactive"}`).join(`
`),t=encodeURI(s),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","all_users.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"flex flex-col items-center p-4 rounded-lg border border-sas-gray-200 hover:bg-sas-gray-50 transition-colors",children:[e.jsx(Q,{className:"w-6 h-6 text-sas-green-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-sas-gray-700",children:"Export Data"})]}),e.jsxs("button",{onClick:()=>Z("system"),className:"flex flex-col items-center p-4 rounded-lg border border-sas-gray-200 hover:bg-sas-gray-50 transition-colors",children:[e.jsx(K,{className:"w-6 h-6 text-sas-gray-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-sas-gray-700",children:"System Config"})]})]})]})]})}),Be=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-sas-gray-900",children:"Organization Management"}),e.jsx("p",{className:"text-sm text-sas-gray-600 mt-1",children:"Manage districts and educational organizations"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("select",{className:"px-3 py-2 border border-sas-gray-300 rounded-lg focus:ring-2 focus:ring-sas-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"district",children:"School District"}),e.jsx("option",{value:"charter",children:"Charter"}),e.jsx("option",{value:"private",children:"Private"}),e.jsx("option",{value:"school",children:"Individual School"})]}),e.jsxs("button",{onClick:oe,className:"flex items-center px-4 py-2 bg-sas-purple-600 text-white rounded-lg hover:bg-sas-purple-700 transition-colors",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Add Organization"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(j,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Total Orgs"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:S.length})]})]})}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(j,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Districts"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:S.filter(s=>s.type==="district").length})]})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(j,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Schools"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:B.length})]})]})}),e.jsx("div",{className:"bg-orange-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(E,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Users"}),e.jsx("p",{className:"text-2xl font-bold text-orange-900",children:N.length})]})]})})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:S.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(j,{className:"w-16 h-16 text-sas-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-sas-gray-900 mb-2",children:"No organizations found"}),e.jsx("p",{className:"text-sas-gray-500 mb-6 max-w-md mx-auto",children:"Create your first organization to start managing districts, schools, and educational institutions."}),e.jsxs("button",{onClick:oe,className:"inline-flex items-center px-4 py-2 bg-sas-purple-600 text-white rounded-lg hover:bg-sas-purple-700 transition-colors",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Create First Organization"]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-sas-gray-200",children:[e.jsx("thead",{className:"bg-sas-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:"Organization"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:"Academic Year"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:"Schools"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-sas-gray-200",children:S.map(s=>e.jsxs("tr",{className:"hover:bg-sas-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(j,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-sas-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-sas-gray-500",children:s.contactInfo.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.type==="district"?"bg-blue-100 text-blue-800":s.type==="charter"?"bg-green-100 text-green-800":s.type==="private"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:s.type})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-sas-gray-900",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{children:[s.address.city,", ",s.address.state]}),e.jsx("span",{className:"text-xs text-sas-gray-500",children:s.timezone})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-sas-gray-900",children:s.academicYear.year}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-sas-gray-900",children:[B.filter(t=>t.organizationId===s.id).length," schools"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>Le(s),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Organization",children:e.jsx(q,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>He(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Organization",children:e.jsx(I,{className:"w-4 h-4"})})]})})]},s.id))})]})})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-sas-gray-900",children:"Schools by Organization"}),e.jsx("p",{className:"text-sm text-sas-gray-600 mt-1",children:"Schools organized by their parent organization"})]}),e.jsxs("button",{onClick:ne,className:"flex items-center px-4 py-2 bg-sas-blue-600 text-white rounded-lg hover:bg-sas-blue-700 transition-colors",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Add School"]})]}),S.map(s=>{const t=B.filter(a=>a.organizationId===s.id);return t.length===0?null:e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-lg text-sas-gray-900 mb-3",children:s.name}),e.jsx("div",{className:"grid gap-3",children:t.map(a=>e.jsx("div",{className:"border border-sas-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-sas-gray-900",children:a.name}),e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Active"})]}),e.jsxs("p",{className:"text-sm text-sas-gray-600",children:[a.address?.street,", ",a.address?.city,", ",a.address?.state]}),e.jsxs("p",{className:"text-xs text-sas-gray-500 mt-1",children:["Type: ",a.type," â€¢ Grades: ",a.grades.join(", ")]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>{te(a),C({name:a.name,type:a.type,organizationId:a.organizationId,grades:a.grades,divisions:fe.filter(c=>c.schoolId===a.id).map(c=>c.name),address:a.address||{street:"",city:"",state:"",zipCode:""}}),$(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(q,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>$e(a.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(I,{className:"w-4 h-4"})})]})]})},a.id))})]},s.id)})]})]}),Ge=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-sas-gray-900",children:"Applet Management"}),e.jsx("p",{className:"text-sm text-sas-gray-600 mt-1",children:"Manage platform applets and extensions"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>{u()},className:"flex items-center px-3 py-2 text-sm border border-sas-gray-300 text-sas-gray-700 rounded-lg hover:bg-sas-gray-50 transition-colors",children:[e.jsx(ls,{className:"w-4 h-4 mr-2"}),"Refresh"]}),e.jsxs("button",{onClick:de,className:"flex items-center px-4 py-2 bg-sas-blue-600 text-white rounded-lg hover:bg-sas-blue-700 transition-colors",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Add Applet"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(V,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Applets"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:b.length})]})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(X,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:b.filter(s=>s.status==="active").length})]})]})}),e.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(as,{className:"w-5 h-5 text-yellow-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Development"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:b.filter(s=>s.status==="development").length})]})]})}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(E,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Active Users"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:b.reduce((s,t)=>s+t.activeUsers,0)})]})]})})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:b.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(V,{className:"w-16 h-16 text-sas-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-sas-gray-900 mb-2",children:"No applets installed"}),e.jsx("p",{className:"text-sas-gray-500 mb-6 max-w-md mx-auto",children:"Applets extend your platform's functionality with specialized tools for observations, evaluations, and learning management."}),e.jsxs("button",{onClick:de,className:"inline-flex items-center px-4 py-2 bg-sas-blue-600 text-white rounded-lg hover:bg-sas-blue-700 transition-colors",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Create First Applet"]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-sas-gray-200",children:[e.jsx("thead",{className:"bg-sas-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:"Applet"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:"Type & Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:"Usage"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:"Version"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-sas-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-sas-gray-200",children:b.map(s=>e.jsxs("tr",{className:"hover:bg-sas-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center text-white text-lg",style:{backgroundColor:s.color},children:s.icon}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-sas-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-sas-gray-500 line-clamp-2",children:s.description}),e.jsxs("div",{className:"text-xs text-sas-gray-400 mt-1",children:["by ",s.maintainer||"System"]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:s.type}),e.jsx("span",{className:"text-xs text-sas-gray-500 mt-1",children:s.category})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="active"?"bg-green-100 text-green-800":s.status==="inactive"?"bg-red-100 text-red-800":s.status==="development"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:s.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-sas-gray-900",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{children:[s.activeUsers," active users"]}),e.jsxs("span",{className:"text-xs text-sas-gray-500",children:[s.installs," installs"]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-sas-gray-900",children:["v",s.version]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>Fe(s.id,s.status),className:`p-2 rounded-lg transition-colors ${s.status==="active"?"text-red-600 hover:bg-red-50":"text-green-600 hover:bg-green-50"}`,title:s.status==="active"?"Deactivate":"Activate",children:s.status==="active"?e.jsx(rs,{className:"w-4 h-4"}):e.jsx(X,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Pe(s),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Applet",children:e.jsx(q,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Me(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Applet",children:e.jsx(I,{className:"w-4 h-4"})})]})})]},s.id))})]})})})]}),Ve=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-sas-gray-900 mb-6",children:"Platform Settings"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Platform Name"}),e.jsx("input",{type:"text",value:h.platformName,onChange:s=>F({...h,platformName:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default User Role"}),e.jsxs("select",{value:h.defaultUserRole,onChange:s=>F({...h,defaultUserRole:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"teacher",children:"Teacher"}),e.jsx("option",{value:"observer",children:"Observer"}),e.jsx("option",{value:"support_staff",children:"Support Staff"})]})]})]}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Maintenance Mode"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Temporarily disable access for maintenance"})]}),e.jsx("button",{onClick:()=>F({...h,maintenanceMode:!h.maintenanceMode}),className:`relative inline-flex h-6 w-11 items-center rounded-full ${h.maintenanceMode?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${h.maintenanceMode?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Allow User Registration"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Allow new users to register accounts"})]}),e.jsx("button",{onClick:()=>F({...h,allowRegistration:!h.allowRegistration}),className:`relative inline-flex h-6 w-11 items-center rounded-full ${h.allowRegistration?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${h.allowRegistration?"translate-x-6":"translate-x-1"}`})})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:async()=>{try{console.log("Saving system settings:",h),alert("System settings saved successfully!")}catch{alert("Failed to save settings")}},className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save Settings"})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-sas-gray-900 mb-6",children:"System Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.totalUsers}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Users"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.totalSchools}),e.jsx("div",{className:"text-sm text-gray-600",children:"Schools"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:b.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Applets"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-sas-gray-900 mb-6",children:"System Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>{confirm("Are you sure you want to create a system backup?")&&alert("System backup initiated. You will be notified when complete.")},className:"flex items-center justify-center p-4 border border-blue-200 rounded-lg hover:bg-blue-50 transition-colors",children:[e.jsx(Q,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsx("span",{className:"font-medium text-blue-600",children:"Create Backup"})]}),e.jsxs("button",{onClick:()=>{confirm("Are you sure you want to clear all system logs?")&&alert("System logs cleared successfully.")},className:"flex items-center justify-center p-4 border border-yellow-200 rounded-lg hover:bg-yellow-50 transition-colors",children:[e.jsx(I,{className:"w-5 h-5 text-yellow-600 mr-2"}),e.jsx("span",{className:"font-medium text-yellow-600",children:"Clear Logs"})]}),e.jsxs("button",{onClick:()=>{confirm("Are you sure you want to restart the system? This will temporarily disconnect all users.")&&alert("System restart initiated. Please wait...")},className:"flex items-center justify-center p-4 border border-red-200 rounded-lg hover:bg-red-50 transition-colors",children:[e.jsx(W,{className:"w-5 h-5 text-red-600 mr-2"}),e.jsx("span",{className:"font-medium text-red-600",children:"Restart System"})]})]})]})]}),Ke=()=>{switch(J){case"overview":return me();case"users":return qe();case"organizations":return Be();case"applets":return Ge();case"system":return Ve();default:return me()}};return e.jsxs("div",{className:"bg-sas-background",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-sas-gray-200 -mx-4 sm:-mx-6 lg:-mx-8 mb-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-sas-gray-900 font-serif",children:"Admin Dashboard"}),e.jsx("p",{className:"text-sas-gray-600 mt-1",children:"Complete platform administration"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${d.systemHealth==="healthy"?"bg-green-500":d.systemHealth==="warning"?"bg-yellow-500":"bg-red-500"}`}),e.jsxs("span",{className:"text-sm text-sas-gray-600",children:["System ",d.systemHealth==="healthy"?"Healthy":d.systemHealth==="warning"?"Warning":"Error"]})]})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:Je},{id:"users",label:"Users",icon:E},{id:"organizations",label:"Organizations",icon:j},{id:"applets",label:"Applets",icon:V},{id:"system",label:"System",icon:K}].map(s=>e.jsxs("button",{onClick:()=>Z(s.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${J===s.id?"bg-sas-blue-100 text-sas-blue-700":"text-sas-gray-600 hover:text-sas-gray-900 hover:bg-sas-gray-100"}`,children:[e.jsx(s.icon,{className:"w-4 h-4"}),e.jsx("span",{children:s.label})]},s.id))})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:Ke()}),Se&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg mx-4 max-h-screen overflow-y-auto",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:D?"Edit User":"Add New User"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),e.jsx("input",{type:"text",value:i.firstName,onChange:s=>f({...i,firstName:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),e.jsx("input",{type:"text",value:i.lastName,onChange:s=>f({...i,lastName:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:i.email,onChange:s=>f({...i,email:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Role"}),e.jsxs("select",{value:i.primaryRole,onChange:s=>f({...i,primaryRole:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"super_admin",children:"Super Admin"}),e.jsx("option",{value:"system_admin",children:"System Admin"}),e.jsx("option",{value:"district_admin",children:"District Admin"}),e.jsx("option",{value:"school_admin",children:"School Admin"}),e.jsx("option",{value:"superintendent",children:"Superintendent"}),e.jsx("option",{value:"principal",children:"Principal"}),e.jsx("option",{value:"assistant_principal",children:"Assistant Principal"}),e.jsx("option",{value:"department_head",children:"Department Head"}),e.jsx("option",{value:"teacher",children:"Teacher"}),e.jsx("option",{value:"substitute_teacher",children:"Substitute Teacher"}),e.jsx("option",{value:"specialist_teacher",children:"Specialist Teacher"}),e.jsx("option",{value:"instructional_coach",children:"Instructional Coach"}),e.jsx("option",{value:"plc_coach",children:"PLC Coach"}),e.jsx("option",{value:"dei_specialist",children:"DEI Specialist"}),e.jsx("option",{value:"curriculum_coordinator",children:"Curriculum Coordinator"}),e.jsx("option",{value:"observer",children:"Observer"}),e.jsx("option",{value:"external_evaluator",children:"External Evaluator"}),e.jsx("option",{value:"counselor",children:"Counselor"}),e.jsx("option",{value:"librarian",children:"Librarian"}),e.jsx("option",{value:"technology_coordinator",children:"Technology Coordinator"}),e.jsx("option",{value:"support_staff",children:"Support Staff"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Roles (Optional)"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border border-gray-200 rounded-md p-2",children:["super_admin","system_admin","district_admin","school_admin","superintendent","principal","assistant_principal","department_head","teacher","substitute_teacher","specialist_teacher","instructional_coach","plc_coach","dei_specialist","curriculum_coordinator","observer","external_evaluator","counselor","librarian","technology_coordinator","support_staff"].filter(s=>s!==i.primaryRole).map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`secondary_${s}`,checked:i.secondaryRoles.includes(s),onChange:t=>{t.target.checked?f({...i,secondaryRoles:[...i.secondaryRoles,s]}):f({...i,secondaryRoles:i.secondaryRoles.filter(a=>a!==s)})},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:`secondary_${s}`,className:"ml-2 text-sm text-gray-700",children:s.replace("_"," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")})]},s))}),i.secondaryRoles.length>0&&e.jsx("div",{className:"mt-2",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["Selected: ",i.secondaryRoles.map(s=>s.replace("_"," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")).join(", ")]})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Ue,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:D?"Save Changes":"Add User"})]})]})}),Ae&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:z?"Edit School":"Add New School"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Name"}),e.jsx("input",{type:"text",value:o.name,onChange:s=>C({...o,name:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),e.jsxs("select",{value:o.type,onChange:s=>C({...o,type:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"elementary",children:"Elementary"}),e.jsx("option",{value:"middle",children:"Middle School"}),e.jsx("option",{value:"high",children:"High School"}),e.jsx("option",{value:"early_learning_center",children:"Early Learning Center"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Divisions"}),e.jsxs("div",{className:"space-y-2",children:[o.divisions.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-3 py-2 rounded-md",children:[e.jsx("span",{className:"text-sm",children:s}),e.jsx("button",{type:"button",onClick:()=>Te(t),className:"text-red-600 hover:text-red-800",children:"Ã—"})]},t)),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Add division (e.g., Academic, Athletics, Arts)",value:O,onChange:s=>re(s.target.value),onKeyPress:s=>s.key==="Enter"&&ce(),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("button",{type:"button",onClick:ce,className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>$(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:_e,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:z?"Save Changes":"Add School"})]})]})}),De&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:R?"Edit Organization":"Add New Organization"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name *"}),e.jsx("input",{type:"text",value:r.name,onChange:s=>m({...r,name:s.target.value}),placeholder:"Enter organization name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),e.jsxs("select",{value:r.type,onChange:s=>m({...r,type:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"district",children:"School District"}),e.jsx("option",{value:"charter",children:"Charter Organization"}),e.jsx("option",{value:"private",children:"Private Institution"}),e.jsx("option",{value:"school",children:"Individual School"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Address"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),e.jsx("input",{type:"text",value:r.address.street,onChange:s=>m({...r,address:{...r.address,street:s.target.value}}),placeholder:"123 Main Street",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),e.jsx("input",{type:"text",value:r.address.city,onChange:s=>m({...r,address:{...r.address,city:s.target.value}}),placeholder:"City",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),e.jsx("input",{type:"text",value:r.address.state,onChange:s=>m({...r,address:{...r.address,state:s.target.value}}),placeholder:"State",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:r.contactInfo.phone,onChange:s=>m({...r,contactInfo:{...r.contactInfo,phone:s.target.value}}),placeholder:"(555) 123-4567",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:r.contactInfo.email,onChange:s=>m({...r,contactInfo:{...r.contactInfo,email:s.target.value}}),placeholder:"contact@organization.edu",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Academic Year"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Academic Year"}),e.jsx("input",{type:"text",value:r.academicYear.year,onChange:s=>m({...r,academicYear:{...r.academicYear,year:s.target.value}}),placeholder:"2024-2025",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:r.academicYear.startDate,onChange:s=>m({...r,academicYear:{...r.academicYear,startDate:s.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:r.academicYear.endDate,onChange:s=>m({...r,academicYear:{...r.academicYear,endDate:s.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),e.jsxs("select",{value:r.timezone,onChange:s=>m({...r,timezone:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"America/New_York",children:"Eastern Time"}),e.jsx("option",{value:"America/Chicago",children:"Central Time"}),e.jsx("option",{value:"America/Denver",children:"Mountain Time"}),e.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"}),e.jsx("option",{value:"America/Anchorage",children:"Alaska Time"}),e.jsx("option",{value:"Pacific/Honolulu",children:"Hawaii Time"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Ye,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:R?"Save Changes":"Create Organization"})]})]})}),ze&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:p?"Edit Applet":"Add New Applet"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),e.jsx("input",{type:"text",value:n.name,onChange:s=>x({...n,name:s.target.value}),placeholder:"Enter applet name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Version"}),e.jsx("input",{type:"text",value:n.version,onChange:s=>x({...n,version:s.target.value}),placeholder:"1.0.0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),e.jsx("textarea",{value:n.description,onChange:s=>x({...n,description:s.target.value}),rows:3,placeholder:"Describe what this applet does...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),e.jsxs("select",{value:n.type,onChange:s=>x({...n,type:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"observation",children:"Observation"}),e.jsx("option",{value:"evaluation",children:"Evaluation"}),e.jsx("option",{value:"learning",children:"Learning"}),e.jsx("option",{value:"assessment",children:"Assessment"}),e.jsx("option",{value:"analytics",children:"Analytics"}),e.jsx("option",{value:"utility",children:"Utility"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsx("input",{type:"text",value:n.category,onChange:s=>x({...n,category:s.target.value}),placeholder:"e.g., Teaching Tools, Admin Tools",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icon (Emoji)"}),e.jsx("input",{type:"text",value:n.icon,onChange:s=>x({...n,icon:s.target.value}),placeholder:"ðŸ§©",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),e.jsx("input",{type:"color",value:n.color,onChange:s=>x({...n,color:s.target.value}),className:"w-full h-10 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Route Path"}),e.jsx("input",{type:"text",value:n.route,onChange:s=>x({...n,route:s.target.value}),placeholder:"/applets/my-applet",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Required Roles (one per line)"}),e.jsx("textarea",{value:n.requiredRoles.join(`
`),onChange:s=>x({...n,requiredRoles:s.target.value.split(`
`).filter(t=>t.trim())}),rows:3,placeholder:`teacher
principal
administrator`,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maintainer"}),e.jsx("input",{type:"text",value:n.maintainer,onChange:s=>x({...n,maintainer:s.target.value}),placeholder:"Developer/Team Name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isConfigurable",checked:n.isConfigurable,onChange:s=>x({...n,isConfigurable:s.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"isConfigurable",className:"ml-2 text-sm text-gray-700",children:"Applet is configurable"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Oe,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:p?"Save Changes":"Create Applet"})]})]})})]})};export{ks as default};
